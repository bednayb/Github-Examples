name: Schedule and trigger actions

on:
  schedule:
    - cron: '*/5 * * * *'
  # Enables manual trigger from GitHub UI
  workflow_dispatch:
    inputs:
      mode:
        description: "Why are you running this manually?"
        type: choice
        options:
          - check time
          - why not
          - boldog karacsonyt
        required: true
        default: "boldog karacsonyt"
  
jobs:
  write_time:
    name: write time
    runs-on: ubuntu-latest
    steps:

      - name: Only for manual runs
        if: github.event_name == 'workflow_dispatch'
        run:  | 
          echo "Manual run detected."
          echo "Reason: ${{ github.event.inputs.reason || 'No reason' }}"
      
      - name: Mode = boldog karacsonyt
        if: github.event.inputs.mode == 'boldog karacsonyt'
        run: echo "Vege van kicsi"
      
      - name: Mode != boldog karacsonyt
        if: github.event_name == 'workflow_dispatch' && github.event.inputs.mode != 'boldog karacsonyt'
        run: echo "Ki az a Zsolti bacsi?"
    
      - name: Only for cron runs
        if: github.event_name == 'schedule'
        run: echo "Scheduled run detected"
    
      - name: Every five minute
        run: echo "This step will be run every 5 minute git status. The current server time is $(date)"